<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\Category;

/**
 * お問い合わせカテゴリーの初期データを投入するシーダークラス
 * 
 * このクラスは、お問い合わせフォームで使用される
 * カテゴリー（お問い合わせの種類）のマスターデータをデータベースに投入します。
 * 
 * 投入されるカテゴリー：
 * - 商品のお届けについて
 * - 商品の交換について
 * - 商品トラブル
 * - ショップへのお問い合わせ
 * - その他
 * 
 * 注意：
 * このシーダーはアプリケーションの基本機能に必須のデータです。
 * 本番環境でも実行することを推奨します。
 */
class CategorySeeder extends Seeder
{
  /**
   * お問い合わせカテゴリーのマスターデータをデータベースに投入する処理
   * 
   * このメソッドでは、事前に定義したカテゴリー名の配列をループで処理し、
   * 一つずつデータベースに保存します。
   * 
   * 処理の流れ：
   * 1. カテゴリー名の配列を定義
   * 2. foreachループで各カテゴリーを処理
   * 3. Category::create()でデータベースに保存
   * 
   * 注意：
   * このシーダーを複数回実行すると、同じデータが重複して作成されます。
   * 重複を防ぐためには、事前にデータをクリアするか、
   * firstOrCreate()メソッドの使用を検討してください。
   * 
   * @return void
   */
  public function run()
  {
    // お問い合わせの種類一覧（アプリケーションの仕様に合わせて定義）
    $categories = [
      '商品のお届けについて',        // 配送・配送状況に関するお問い合わせ
      '商品の交換について',          // 返品・交換に関するお問い合わせ
      '商品トラブル',                  // 不良品・破損等のトラブルに関するお問い合わせ
      'ショップへのお問い合わせ',    // 一般的なお問い合わせ・要望等
      'その他'                        // 上記に当てはまらないその他のお問い合わせ
    ];

    // 各カテゴリーをループで処理してデータベースに保存
    foreach ($categories as $content) {
      Category::create([
        'content' => $content  // カテゴリー名をcontentフィールドに設定
      ]);
    }
  }
}
